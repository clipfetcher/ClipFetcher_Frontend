(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c93ab"],{"57f9":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("br"),"Loading"===t.videoList?e("div",{staticClass:"d-flex justify-content-center my-5"},[t._m(0)]):"Finish"===t.videoList?e("div",t._l(t.highlightVideos,(function(t){return e("AdminHighlightList",{key:t.index,attrs:{vod_id:t.vod_id,highlight_id:t.highlight_id,channel_id:t.channel_id,streamerName:t.streamerName,game:t.game,youtube_url:t.youtube_url,avg_score:t.avg_score,memo:t.memo,author:t.author,status:t.status,analyzeType:t.analyzeType}})})),1):"Empty"===t.videoList?e("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._m(1)]):e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._m(2)])])},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"spinner-grow text-secondary",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("p",{staticClass:"text-center my-2 py-2"},[e("span",[t._v("目前還沒有精華影片！！")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("p",{staticClass:"text-center my-2 py-2"},[e("span",[t._v("系統連線發生錯誤 請等待問題排除或重新整理頁面嘗試 感謝！")])])}],r=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDelete,expression:"!isDelete"}],staticClass:"m-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-4 my-2"},["FINISHED"===t.status?e("div",{staticClass:"embed-responsive embed-responsive-16by9"},[e("iframe",{staticClass:"embed-responsive-item",attrs:{src:t.embed_link,allowfullscreen:"true"}})]):e("div",{staticClass:"alert alert-info",class:[t.isFailed?"alert-danger":"alert-info"],attrs:{role:"alert"}},[e("p",{staticClass:"text-center my-4 py-4"},[e("span",[t._v(t._s(t.highlightStatus))])])])]),e("div",{staticClass:"col-12 col-md-8"},[e("b-dropdown",{staticClass:"float-right",attrs:{size:"lg",variant:"link","toggle-class":"text-decoration-none",right:"","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("i",{staticClass:"fas fa-chevron-circle-down"})]},proxy:!0}])},[e("b-dropdown-item",{attrs:{href:"https://www.twitch.tv/videos/"+t.vod_id,target:"_blank"}},[e("i",{staticClass:"fas fa-link fa-lg m-1",attrs:{"data-toggle":"tooltip",title:"VOD網址"}}),t._v(" 原始鏈結 ")]),e("b-dropdown-item",{attrs:{to:"/highlight/"+t.highlight_id,target:"_blank"}},[e("i",{staticClass:"fas fa-share-square fa-lg m-1",attrs:{"data-toggle":"tooltip",title:"精華連結"}}),t._v(" 精華頁面 ")])],1),e("p",{staticClass:"text-left m-0"},[t._v("標題："+t._s(t.memo))]),e("p",{staticClass:"text-left m-0"},[t._v(" 實況主： "),e("b-link",{attrs:{to:"/results?channel_id="+t.channel_id},on:{click:function(i){return i.preventDefault(),t.channelSearch(i)}}},[t._v(t._s(t.streamerName))])],1),e("p",{staticClass:"text-left m-0"},[t._v(" 遊戲分類： "),e("b-link",{attrs:{to:"/results?game="+t.game},on:{click:function(i){return i.preventDefault(),t.gameSearch(i)}}},[t._v(" "+t._s(t.game)+" ")])],1),e("p",{staticClass:"text-left m-0"},[t._v("目前分數："+t._s(t.avg_score))]),e("p",{staticClass:"text-left m-0"},[t._v("建立者："+t._s(t.author))]),e("p",{staticClass:"text-left m-0"},[t._v("分析方式："+t._s(t.analysis))]),e("div",{staticClass:"float-right mt-2 mb-0"},[e("b-list-group",{attrs:{horizontal:""}},[e("b-list-group-item",{attrs:{variant:"info"}},[t._v(" "+t._s(t.highlightStatus)+" ")]),e("b-list-group-item",{staticClass:"p-1"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mx-1",attrs:{variant:"outline-primary",title:"重新分析"},on:{click:t.highlightReanalysis}},[e("i",{staticClass:"fas fa-redo-alt"})]),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mx-1",attrs:{variant:"outline-primary",title:"精華管理"},on:{click:t.highlightManage}},[e("i",{staticClass:"fas fa-user-edit"})]),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"mx-1",attrs:{variant:"outline-primary",title:"刪除精華"},on:{click:t.highlightDelete}},[e("i",{staticClass:"fas fa-trash-alt"})])],1)],1)],1)],1)]),e("b-collapse",{staticClass:"mt-2",model:{value:t.collapseVisible,callback:function(i){t.collapseVisible=i},expression:"collapseVisible"}},[e("b-tabs",{attrs:{"content-class":"mt-3"}},[e("b-tab",{attrs:{title:"精華編輯",active:""}},[e("b-card",[e("b-form",{on:{submit:function(i){return i.preventDefault(),t.highlightEdit(i)}}},[e("b-form-group",{attrs:{label:"vod_id"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.vod_id,callback:function(i){t.$set(t.formHighlightEdit,"vod_id",i)},expression:"formHighlightEdit.vod_id"}})],1),e("b-form-group",{attrs:{label:"highlight_id"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.highlight_id,callback:function(i){t.$set(t.formHighlightEdit,"highlight_id",i)},expression:"formHighlightEdit.highlight_id"}})],1),e("b-form-group",{attrs:{label:"channel_id"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.channel_id,callback:function(i){t.$set(t.formHighlightEdit,"channel_id",i)},expression:"formHighlightEdit.channel_id"}})],1),e("b-form-group",{attrs:{label:"streamerName"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.streamerName,callback:function(i){t.$set(t.formHighlightEdit,"streamerName",i)},expression:"formHighlightEdit.streamerName"}})],1),e("b-form-group",{attrs:{label:"game"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.game,callback:function(i){t.$set(t.formHighlightEdit,"game",i)},expression:"formHighlightEdit.game"}})],1),e("b-form-group",{attrs:{label:"youtube_url"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.youtube_url,callback:function(i){t.$set(t.formHighlightEdit,"youtube_url",i)},expression:"formHighlightEdit.youtube_url"}})],1),e("b-form-group",{attrs:{label:"avg_score"}},[e("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.formHighlightEdit.avg_score,callback:function(i){t.$set(t.formHighlightEdit,"avg_score",i)},expression:"formHighlightEdit.avg_score"}})],1),e("b-form-group",{attrs:{label:"memo"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.memo,callback:function(i){t.$set(t.formHighlightEdit,"memo",i)},expression:"formHighlightEdit.memo"}})],1),e("b-form-group",{attrs:{label:"author"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.author,callback:function(i){t.$set(t.formHighlightEdit,"author",i)},expression:"formHighlightEdit.author"}})],1),e("b-form-group",{attrs:{label:"status"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.status,callback:function(i){t.$set(t.formHighlightEdit,"status",i)},expression:"formHighlightEdit.status"}})],1),e("b-form-group",{attrs:{label:"analyzeType"}},[e("b-form-input",{attrs:{type:"text"},model:{value:t.formHighlightEdit.analyzeType,callback:function(i){t.$set(t.formHighlightEdit,"analyzeType",i)},expression:"formHighlightEdit.analyzeType"}})],1),t.editting?e("div",[e("div",{staticClass:"spinner-border text-secondary float-right",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])]):e("div",[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[t._v(" 修改 ")])])],1)],1)],1),e("b-tab",{attrs:{title:"精華評價"},on:{click:t.highlightAppraise}},[e("b-card",{staticStyle:{"max-height":"20rem","overflow-y":"auto"}},["Loading"===t.appraiseList?e("div",{staticClass:"d-flex justify-content-center my-5"},[e("div",{staticClass:"spinner-grow text-secondary",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])]):"Finish"===t.appraiseList?e("div",[e("b-table",{attrs:{striped:"",hover:"",items:t.appraises,fields:t.fields,responsive:"sm"}})],1):e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e("p",{staticClass:"text-center my-2 py-2"},[e("span",[t._v(" 系統連線發生錯誤 請等待問題排除或重新整理頁面嘗試 感謝！ ")])])])])],1)],1)],1),e("hr",{staticClass:"my-4"})],1)},l=[],o=(e("b0c0"),e("d3b7"),e("ac1f"),e("3ca3"),e("1276"),e("ddb0"),e("2b3d"),{name:"AdminHighlightList",props:["vod_id","highlight_id","channel_id","streamerName","game","youtube_url","avg_score","memo","author","status","analyzeType"],data:function(){return{text:"",appraiseModalShow:!1,fields:[{key:"author",label:"使用者"},{key:"text",label:"內容"},{key:"score",label:"分數"}],appraises:null,appraiseList:"Loading",formHighlightEdit:{vod_id:this.vod_id,highlight_id:this.highlight_id,channel_id:this.channel_id,streamerName:this.streamerName,game:this.game,youtube_url:this.youtube_url,avg_score:this.avg_score,memo:this.memo,author:this.author,status:this.status,analyzeType:this.analyzeType},editting:!1,notAccurate:!1,videoLong:!1,analysisLong:!1,validationText:!1,haveAppraise:!1,isDelete:!1,collapseVisible:!1}},methods:{channelSearch:function(){this.$router.push({name:"HighlightSearch",query:{channel_id:this.channel_id}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},gameSearch:function(){this.$router.push({name:"HighlightSearch",query:{game:this.game}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},highlightReanalysis:function(){this.axios.post("https://api.clipfetcher.com/api/admin/highlightReanalysis",{token:this.$store.state.auth.token,vod_id:this.vod_id,highlight_id:this.highlight_id}).then((function(){window.alert("送出成功!")})).catch((function(){window.alert("送出失敗!")}))},highlightManage:function(){this.collapseVisible=!this.collapseVisible,this.editting=!1},highlightEdit:function(){var t=this,i=this;this.editting=!0,this.axios.post("https://api.clipfetcher.com/api/admin/highlightEdit",{token:this.$store.state.auth.token,vod_id:this.formHighlightEdit.vod_id,highlight_id:this.formHighlightEdit.highlight_id,channel_id:this.formHighlightEdit.channel_id,streamerName:this.formHighlightEdit.streamerName,game:this.formHighlightEdit.game,youtube_url:this.formHighlightEdit.youtube_url,avg_score:this.formHighlightEdit.avg_score,memo:this.formHighlightEdit.memo,author:this.formHighlightEdit.author,status:this.formHighlightEdit.status,analyzeType:this.formHighlightEdit.analyzeType}).then((function(){t.editting=!1,window.alert("修改成功!")})).catch((function(){i.editting=!1,window.alert("修改發生錯誤!")}))},highlightAppraise:function(){var t=this;this.appraiseList="Loading",this.axios.get("https://api.clipfetcher.com/api/admin/highlightAppraise",{params:{token:this.$store.state.auth.token,highlight_id:this.highlight_id}}).then((function(i){t.appraiseList="Finish",t.appraises=i.data})).catch((function(){t.appraiseList="Error"}))},highlightDelete:function(){window.confirm("確定要刪除嗎?")&&(this.axios.post("https://api.clipfetcher.com/api/admin/highlightDelete",{token:this.$store.state.auth.token,highlight_id:this.highlight_id}).then((function(){window.alert("刪除成功!")})).catch((function(){window.alert("刪除失敗!")})),this.isDelete=!0)}},computed:{embed_link:function(){var t=this.youtube_url,i=new URL(t).hostname,e="";return"www.youtube.com"===i?(t=t.split("="),e=t[1],"https://www.youtube.com/embed/"+e+"?rel=0"):(t=t.split("?"),t=t[0],t=t.split("/"),e=t[t.length-1],"https://iframe.videodelivery.net/"+e)},highlightStatus:function(){var t;switch(this.status){case"GETINFO":t="獲取資訊中";break;case"RUNALGO":t="影片分析中";break;case"FMVODDL":t="影片下載中";break;case"FMVODCB":t="影片合併中";break;case"YTVODUL":t="YT上傳中";break;case"FINISHED":t="已完成";break;case"NEWANALF":t="建立分析失敗";break;case"GETINFOF":t="獲取資訊失敗";break;case"RUNALGOF":t="影片分析失敗";break;case"FMVODDLF":t="影片下載失敗";break;case"FMVODCBF":t="影片合併失敗";break;case"YTVODULF":t="YT上傳失敗";break;default:t="獲取資訊中"}return t},isFailed:function(){var t=!1;switch(this.status){case"GETINFO":t=!1;break;case"RUNALGO":t=!1;break;case"FMVODDL":t=!1;break;case"FMVODCB":t=!1;break;case"YTVODUL":t=!1;break;case"FINISHED":t=!1;break;case"NEWANALF":t=!0;break;case"GETINFOF":t=!0;break;case"RUNALGOF":t=!0;break;case"FMVODDLF":t=!0;break;case"FMVODCBF":t=!0;break;case"YTVODULF":t=!0;break;default:t=!1}return t},analysis:function(){var t;switch(this.analyzeType){case"freq":t="自動頻率分析";break;case"manual":t="手動剪輯";break;case"machine":t="機器學習";break;default:t=""}return t}}}),h=o,n=e("2877"),c=Object(n["a"])(h,r,l,!1,null,null,null),g=c.exports,d={name:"appraise",data:function(){return{videoList:"Loading",highlightVideos:null}},components:{AdminHighlightList:g},mounted:function(){this.getContent()},methods:{getContent:function(){var t=this,i=this;this.axios.get("https://api.clipfetcher.com/api/vod/highlight").then((function(i){t.highlightVideos=i.data.reverse(),0==t.highlightVideos.length?t.videoList="Empty":t.videoList="Finish"})).catch((function(t){console.log(t.response),i.videoList="Error"}))}}},m=d,u=Object(n["a"])(m,a,s,!1,null,null,null);i["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0c93ab.1b45f568.js.map