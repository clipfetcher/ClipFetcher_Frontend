(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-03509464"],{1148:function(t,e,a){"use strict";var i=a("a691"),s=a("1d80");t.exports="".repeat||function(t){var e=String(s(this)),a="",r=i(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(a+=e);return a}},3987:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"twitchVideo"})},s=[],r=(a("b680"),{name:"twitch-embeded",props:["vod_id","seek_time"],data:function(){return{options:{width:1260,height:720,video:this.vod_id,parent:["clipfetcher.com","127.0.0.1"],autoplay:!1,allowfullscreen:!0},player:null}},mounted:function(){this.createTwitchPlayer()},methods:{createTwitchPlayer:function(){null!=this.player&&this.player.destroy(),this.player=new Twitch.Player(this.$refs.twitchVideo,this.options)},setTwitchPlayer:function(){""!=this.vod_id&&(null!=this.player&&this.player.destroy(),this.options.video=this.vod_id,this.player=new Twitch.Player(this.$refs.twitchVideo,this.options))},removeTwitchPlayer:function(){this.player.destroy()}},watch:{vod_id:function(){this.setTwitchPlayer()},seek_time:function(){null!=this.player&&this.player.seek(this.seek_time)},time:function(){this.$emit("getVODTime",this.time)}},computed:{time:function(){if(null!=this.player){var t=this.player.getCurrentTime();t=t.toFixed();var e=Math.floor(t/60/60);e=e>=10?e:"0"+e;var a=Math.floor(t/60)%60;a=a>=10?a:"0"+a;var i=t%60;return i=i>=10?i:"0"+i,e+":"+a+":"+i}}},beforeDestroy:function(){this.removeTwitchPlayer()}}),n=r,o=a("2877"),c=Object(o["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},"408a":function(t,e,a){var i=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=i(t))throw TypeError("Incorrect invocation");return+t}},"697b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-3 px-1 py-2"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-md-4"},["FINISHED"===t.status?a("div",{staticStyle:{width:"100%",height:"12em"}},[a("img",{staticClass:"card-img",staticStyle:{width:"100%",height:"100%","object-fit":"cover"},attrs:{src:t.embed_thumbnail,alt:"video_thumbnail"},on:{click:t.highlightPage}})]):a("div",{staticClass:"card-img"},[a("div",{staticClass:"alert alert-info p-4",class:[t.isFailed?"alert-danger":"alert-info"],attrs:{role:"alert"}},[a("p",{staticClass:"text-center my-4 py-4"},[a("span",[t._v(t._s(t.highlightStatusText))])])])])]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card-body"},["FINISHED"===t.status?a("p",{staticClass:"m-0 text-center text-secondary"},[a("small",[t._v("點擊圖片以檢視完整影片")])]):t._e(),a("h5",{staticClass:"card-title mb-1 text-truncate"},[t._v(t._s(t.memo))]),a("div",{staticClass:"card-text py-0"},[a("p",{staticClass:"m-0"},[a("b-link",{attrs:{to:"/results?channel_id="+t.channel_id},on:{click:function(e){return e.preventDefault(),t.channelSearch(e)}}},[t._v(t._s(t.streamerName))]),t._v("・"),a("b-link",{attrs:{to:"/results?game="+t.game},on:{click:function(e){return e.preventDefault(),t.gameSearch(e)}}},[t._v(" "+t._s(t.game)+" ")])],1),a("p",{staticClass:"m-0"},[t._v(" 建立者： "),a("b-link",{attrs:{to:"/results?author="+t.author},on:{click:function(e){return e.preventDefault(),t.authorSearch(e)}}},[t._v(t._s(t.author))]),t._v(" 使用"+t._s(t.analysis)+" ")],1),a("p",{staticClass:"mx-0 my-2"},[t.showManualEdit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"float-right",attrs:{variant:"outline-info",title:"建立自己專屬的手動剪輯"},on:{click:t.manualEditor}},[a("i",{staticClass:"fas fa-user-edit mr-2"}),t._v("手動編輯 ")]):t._e()],1)])])])])])},s=[],r=(a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("ddb0"),a("2b3d"),{name:"highlight-shelf",props:["vod_id","highlight_id","channel_id","streamerName","game","video_link","start_at","duration","avg_score","memo","author","status","analyzeType"],methods:{channelSearch:function(){this.$router.push({name:"HighlightSearch",query:{channel_id:this.channel_id}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},gameSearch:function(){this.$router.push({name:"HighlightSearch",query:{game:this.game}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},authorSearch:function(){this.$router.push({name:"HighlightSearch",query:{author:this.author}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},highlightPage:function(){var t=this.highlight_id;this.$router.push({name:"Highlight",params:{highlight_id:t}})},manualEditor:function(){this.$emit("manual",this.vod_id,this.start_at,this.duration)}},computed:{embed_thumbnail:function(){var t=this.video_link,e=new URL(t).hostname,a="";return"www.youtube.com"===e?(t=t.split("="),a=t[1],"https://i.ytimg.com/vi/"+a+"/sddefault.jpg"):(t=t.split("?"),t=t[0],t=t.split("/"),a=t[t.length-1],"https://videodelivery.net/"+a+"/thumbnails/thumbnail.jpg")},highlightStatusText:function(){var t;switch(this.status){case"GETINFO":t="獲取資訊中";break;case"RUNALGO":t="影片分析中";break;case"FMVODDL":t="影片下載中";break;case"FMVODCB":t="影片合併中";break;case"YTVODUL":t="YT上傳中";break;case"FINISHED":t="已完成";break;case"NEWANALF":t="建立分析失敗";break;case"GETINFOF":t="獲取資訊失敗";break;case"RUNALGOF":t="影片分析失敗";break;case"FMVODDLF":t="影片下載失敗";break;case"FMVODCBF":t="影片合併失敗";break;case"YTVODULF":t="YT上傳失敗";break;default:t="獲取資訊中"}return t},isFailed:function(){var t=!1;switch(this.status){case"GETINFO":case"RUNALGO":case"FMVODDL":case"FMVODCB":case"YTVODUL":case"FINISHED":t=!1;break;case"NEWANALF":case"GETINFOF":case"RUNALGOF":case"FMVODDLF":case"FMVODCBF":case"YTVODULF":t=!0;break;default:t=!1}return t},analysis:function(){var t;switch(this.analyzeType){case"freq":t="自動頻率分析";break;case"manual":t="手動剪輯";break;case"machine":t="機器學習";break;default:t=""}return t},showManualEdit:function(){return"Demo"===this.$router.currentRoute.name}}}),n=r,o=a("2877"),c=Object(o["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},b67a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col"},[a("div",{staticClass:"card my-2"},["FINISHED"===t.status?a("div",[a("div",{staticStyle:{width:"100%",height:"12em"}},[a("img",{staticClass:"card-img-top",staticStyle:{width:"100%",height:"100%","object-fit":"cover"},attrs:{src:t.embed_thumbnail,alt:"video_thumbnail"},on:{click:t.highlightPage}})]),t._m(0)]):a("div",{staticClass:"card-img-top"},[a("div",{staticClass:"alert alert-info",class:[t.isFailed?"alert-danger":"alert-info"],attrs:{role:"alert"}},[a("p",{staticClass:"text-center my-4 py-4"},[a("span",[t._v(t._s(t.highlightStatusText))])])])]),a("div",{staticClass:"card-body py-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-10"},[a("h5",{staticClass:"card-title mb-1 p-0 text-truncate"},[t._v(t._s(t.memo))]),a("p",{staticClass:"m-0"},[a("small",{staticClass:"text-muted"},[a("b-link",{staticClass:"text-secondary",attrs:{to:"/results?channel_id="+t.channel_id},on:{click:function(e){return e.preventDefault(),t.channelSearch(e)}}},[t._v(t._s(t.streamerName))]),t._v("・"),a("b-link",{staticClass:"text-secondary",attrs:{to:"/results?game="+t.game},on:{click:function(e){return e.preventDefault(),t.gameSearch(e)}}},[t._v(" "+t._s(t.game)+" ")])],1)])]),a("b-dropdown",{staticClass:"col-2 p-0",attrs:{variant:"link","toggle-class":"text-decoration-none",right:"","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("i",{staticClass:"fas fa-ellipsis-h text-secondary"})]},proxy:!0}])},[t.showManualEdit?a("b-dropdown-item",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottomleft",value:"建立自己專屬的手動編輯",expression:"'建立自己專屬的手動編輯'",modifiers:{hover:!0,bottomleft:!0}}],on:{click:t.manualEditor}},[a("i",{staticClass:"fas fa-user-edit mr-2"}),t._v("手動編輯")]):t._e(),a("b-dropdown-item",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.bottomleft",value:"對此影片做出評價",expression:"'對此影片做出評價'",modifiers:{hover:!0,bottomleft:!0}}],on:{click:function(e){t.appraiseModalShow=!t.appraiseModalShow}}},[a("i",{staticClass:"fas fa-user-check mr-2"}),t._v("精華評價")])],1)],1),a("div",{staticClass:"card-text py-0"})]),a("div",{staticClass:"card-footer py-1"},[a("p",{staticClass:"m-0"},[a("small",{staticClass:"text-muted"},[t._v("建立者："),a("b-link",{staticClass:"text-info",attrs:{to:"/results?author="+t.author},on:{click:function(e){return e.preventDefault(),t.authorSearch(e)}}},[t._v(t._s(t.author))]),t._v(" 使用"+t._s(t.analysis))],1)])])]),a("b-modal",{attrs:{title:"精華評價","hide-footer":""},model:{value:t.appraiseModalShow,callback:function(e){t.appraiseModalShow=e},expression:"appraiseModalShow"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.appraise(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"validationText"}},[t._v("評論：")]),a("br"),a("button",{staticClass:"btn m-1",class:t.notAccurate?"btn-secondary":"btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.textButton("notAccurate")}}},[t._v(" 影片不精準 ")]),a("button",{staticClass:"btn m-1",class:t.videoLong?"btn-secondary":"btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.textButton("videoLong")}}},[t._v(" 影片長度過長 ")]),a("button",{staticClass:"btn m-1",class:t.analysisLong?"btn-secondary":"btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.textButton("analysisLong")}}},[t._v(" 影片分析太久 ")]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"form-control",class:t.validationText?"is-invalid":"",attrs:{type:"text",id:"validationText",maxlength:"50"},domProps:{value:t.text},on:{change:t.checkText,keyup:t.checkText,input:function(e){e.target.composing||(t.text=e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v("評論不得為空")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"starRating"}},[t._v("分數：")]),a("br"),t._l(5,(function(e){return[e<=t.starRating?a("i",{key:e.id,staticClass:"text-warning fas fa-star",on:{click:function(a){return t.clickRating(e)},mouseover:function(a){return t.mouseOverRrating(e)},touchstart:function(a){return t.mouseOverRrating(e)},mouseout:t.mouseOutRrating,touchend:t.mouseOutRrating}}):a("i",{key:e.id,staticClass:"text-warning far fa-star",on:{click:function(a){return t.clickRating(e)},mouseover:function(a){return t.mouseOverRrating(e)},touchstart:function(a){return t.mouseOverRrating(e)},mouseout:t.mouseOutRrating,touchend:t.mouseOutRrating}})]})),t._v(" "+t._s(t.starRating)+" ")],2),a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[t._v("送出")])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"m-0 text-center text-secondary"},[a("small",[t._v("點擊上方圖片以檢視完整影片")])])}],r=(a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("ddb0"),a("2b3d"),a("dc3a")),n={name:"highlight-grid",props:["vod_id","highlight_id","channel_id","streamerName","game","video_link","start_at","duration","avg_score","memo","author","status","analyzeType"],data:function(){return{appraiseModalShow:!1,temp_starRating:4,starRating:4,text:"",notAccurate:!1,videoLong:!1,analysisLong:!1,validationText:!1}},methods:{channelSearch:function(){this.$router.push({name:"HighlightSearch",query:{channel_id:this.channel_id}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},gameSearch:function(){this.$router.push({name:"HighlightSearch",query:{game:this.game}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},authorSearch:function(){this.$router.push({name:"HighlightSearch",query:{author:this.author}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},highlightPage:function(){var t=this.highlight_id;this.$router.push({name:"Highlight",params:{highlight_id:t}})},manualEditor:function(){this.$emit("manual",this.vod_id,this.start_at,this.duration)},mouseOverRrating:function(t){this.temp_starRating=this.starRating,this.starRating=t},mouseOutRrating:function(){this.isRating?this.starRating=this.temp_starRating:this.starRating=4,this.temp_starRating=0},clickRating:function(t){this.starRating=this.temp_starRating=t,this.isRating=!0},textButton:function(t){var e="";"notAccurate"==t?this.notAccurate=!this.notAccurate:"videoLong"==t?this.videoLong=!this.videoLong:"analysisLong"==t&&(this.analysisLong=!this.analysisLong),this.notAccurate&&(e+=" 影片不精準 "),this.videoLong&&(e+=" 影片長度過長 "),this.analysisLong&&(e+=" 影片分析太久 "),this.text=e},checkText:function(){""==this.text||null==this.text?this.validationText=!0:this.validationText=!1},appraise:function(){var t=this;""==this.text||null==this.text?this.validationText=!0:(this.validationText=!1,Object(r["b"])({highlight_id:this.highlight_id,text:this.text,score:this.starRating}).then((function(e){t.response=e})).catch((function(t){console.log(t)})),this.appraiseModalShow=!this.appraiseModalShow)}},computed:{embed_thumbnail:function(){var t=this.video_link,e=new URL(t).hostname,a="";return"www.youtube.com"===e?(t=t.split("="),a=t[1],"https://i.ytimg.com/vi/"+a+"/sddefault.jpg"):(t=t.split("?"),t=t[0],t=t.split("/"),a=t[t.length-1],"https://videodelivery.net/"+a+"/thumbnails/thumbnail.jpg")},highlightStatusText:function(){var t;switch(this.status){case"GETINFO":t="獲取資訊中";break;case"RUNALGO":t="影片分析中";break;case"FMVODDL":t="影片下載中";break;case"FMVODCB":t="影片合併中";break;case"YTVODUL":t="YT上傳中";break;case"FINISHED":t="已完成";break;case"NEWANALF":t="建立分析失敗";break;case"GETINFOF":t="獲取資訊失敗";break;case"RUNALGOF":t="影片分析失敗";break;case"FMVODDLF":t="影片下載失敗";break;case"FMVODCBF":t="影片合併失敗";break;case"YTVODULF":t="YT上傳失敗";break;default:t="獲取資訊中"}return t},isFailed:function(){var t=!1;switch(this.status){case"GETINFO":case"RUNALGO":case"FMVODDL":case"FMVODCB":case"YTVODUL":case"FINISHED":t=!1;break;case"NEWANALF":case"GETINFOF":case"RUNALGOF":case"FMVODDLF":case"FMVODCBF":case"YTVODULF":t=!0;break;default:t=!1}return t},analysis:function(){var t;switch(this.analyzeType){case"freq":t="自動頻率分析";break;case"manual":t="手動剪輯";break;case"machine":t="機器學習";break;default:t=""}return t},showManualEdit:function(){return"Demo"===this.$router.currentRoute.name}}},o=n,c=a("2877"),l=Object(c["a"])(o,i,s,!1,null,null,null);e["a"]=l.exports},b680:function(t,e,a){"use strict";var i=a("23e7"),s=a("a691"),r=a("408a"),n=a("1148"),o=a("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},h=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));i({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,a,i,o,c=r(this),d=s(t),m=[0,0,0,0,0,0],g="",f="0",v=function(t,e){var a=-1,i=e;while(++a<6)i+=t*m[a],m[a]=i%1e7,i=l(i/1e7)},p=function(t){var e=6,a=0;while(--e>=0)a+=m[e],m[e]=l(a/t),a=a%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var a=String(m[t]);e=""===e?a:e+n.call("0",7-a.length)+a}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(g="-",c=-c),c>1e-21)if(e=h(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){v(0,a),i=d;while(i>=7)v(1e7,0),i-=7;v(u(10,i,1),0),i=e-1;while(i>=23)p(1<<23),i-=23;p(1<<i),v(1,1),p(2),f=b()}else v(0,a),v(1<<-e,0),f=b()+n.call("0",d);return d>0?(o=f.length,f=g+(o<=d?"0."+n.call("0",d-o)+f:f.slice(0,o-d)+"."+f.slice(o-d))):f=g+f,f}})},c1fb:function(t,e,a){"use strict";a("d3b7");var i=a("bc3a"),s=a.n(i),r=s.a.create({baseURL:"https://api.clipfetcher.com/api"});r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){var e=t.response;return e?console.log("request Success has error"):window.navigator.onLine?console.log("other error"):console.log("disconnect"),Promise.reject(t)})),e["a"]=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(t=t.toLowerCase(),t){case"post":return r.post(e,a);case"get":return r.get(e,{params:a});case"delete":return r.delete(e,{params:a});case"put":return r.put(e,a);default:return console.error("unknow method:"+t),!1}}},dc3a:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return r}));var i=a("c1fb"),s=function(t){return Object(i["a"])("get","/vod/highlight_playlist",t)},r=function(t){return Object(i["a"])("post","/vod/appraise",t)}}}]);
//# sourceMappingURL=chunk-03509464.61e596c5.js.map