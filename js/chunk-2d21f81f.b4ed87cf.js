(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21f81f"],{d9b6:function(s,r,o){"use strict";o.r(r);var a=function(){var s=this,r=s.$createElement,o=s._self._c||r;return o("div",{staticClass:"container"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-body"},[o("form",{on:{submit:function(r){return r.preventDefault(),s.newPassword()}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:"success"!=s.state,expression:"state != 'success'"}]},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"newPassword"}},[s._v("設定新密碼：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:s.newPasswordForm.newPasswordPassword,expression:"newPasswordForm.newPasswordPassword"}],staticClass:"form-control",class:s.newPasswordForm.newPasswordPasswordError?"is-invalid":"",attrs:{type:"password",id:"newPassword"},domProps:{value:s.newPasswordForm.newPasswordPassword},on:{keyup:function(r){return s.newPasswordPasswordLengthCheck()},input:function(r){r.target.composing||s.$set(s.newPasswordForm,"newPasswordPassword",r.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.newPasswordForm.newPasswordPasswordErrorText)+" ")])]),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"newCheckPassword"}},[s._v("確認新密碼：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:s.newPasswordForm.newPasswordCheckPassword,expression:"newPasswordForm.newPasswordCheckPassword"}],staticClass:"form-control",class:s.newPasswordForm.newPasswordCheckPasswordError?"is-invalid":"",attrs:{type:"password",id:"newCheckPassword"},domProps:{value:s.newPasswordForm.newPasswordCheckPassword},on:{keyup:function(r){return s.newPasswordCheckPasswordSameCheck()},input:function(r){r.target.composing||s.$set(s.newPasswordForm,"newPasswordCheckPassword",r.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[s._v(" "+s._s(s.newPasswordForm.newPasswordCheckPasswordErrorText)+" ")])])]),o("div",{staticClass:"form-group"},["init"===s.state?o("div",[o("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[s._v(" 確認 ")])]):"loading"===s.state?o("div",[s._m(0)]):"fail"===s.state?o("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[o("p",{staticClass:"text-center my-2 py-2"},[o("span",[s._v(s._s(s.newPasswordFailText))])])]):"success"===s.state?o("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[s._m(1)]):s._e()])])])])])},e=[function(){var s=this,r=s.$createElement,o=s._self._c||r;return o("div",{staticClass:"spinner-border text-secondary float-right",attrs:{role:"status"}},[o("span",{staticClass:"sr-only"},[s._v("Loading...")])])},function(){var s=this,r=s.$createElement,o=s._self._c||r;return o("p",{staticClass:"text-center my-2 py-2"},[o("span",[s._v("密碼更新成功 請重新登入嘗試 將在5秒後自動跳轉至首頁")])])}],w={name:"NewPassword",props:["forgetPassword_token"],data:function(){return{state:"init",newPasswordForm:{newPasswordPassword:"",newPasswordPasswordError:!1,newPasswordPasswordErrorText:"",newPasswordCheckPassword:"",newPasswordCheckPasswordError:!1,newPasswordCheckPasswordErrorText:""},newPasswordFailText:""}},methods:{newPassword:function(){var s=this,r=this;this.newPasswordPasswordLengthCheck(),this.newPasswordCheckPasswordSameCheck(),this.newPasswordForm.newPasswordPasswordError||this.newPasswordForm.newPasswordCheckPasswordError||(this.state="loading",this.axios.post("https://api.clipfetcher.com/api/user/newPassword",{token:this.forgetPassword_token,password:this.newPasswordForm.newPasswordPassword}).then((function(){s.newPasswordForm.newPasswordPassword="",s.newPasswordForm.newPasswordCheckPassword="",s.state="success",setTimeout((function(){s.$router.push({path:"/"})}),5e3)})).catch((function(s){console.log(s),r.newPasswordForm.newPasswordPassword="",r.newPasswordForm.newPasswordCheckPassword="",r.state="fail","tokenExpired"===s.response.data?r.newPasswordFailText="驗證已過期 請重新嘗試":"tokenInvalid"===s.response.data?r.newPasswordFailText="驗證錯誤 請重新嘗試":r.newPasswordFailText="發生未預期的錯誤 請重新嘗試"})))},newPasswordPasswordLengthCheck:function(){0==this.newPasswordForm.newPasswordPassword.length?(this.newPasswordForm.newPasswordPasswordError=!0,this.newPasswordForm.newPasswordPasswordErrorText="密碼輸入為空"):this.newPasswordForm.newPasswordPassword.length<8?(this.newPasswordForm.newPasswordPasswordError=!0,this.newPasswordForm.newPasswordPasswordErrorText="密碼過短。密碼長度請 >= 8"):(this.newPasswordForm.newPasswordPasswordError=!1,this.newPasswordForm.newPasswordPasswordErrorText="")},newPasswordCheckPasswordSameCheck:function(){this.newPasswordForm.newPasswordPassword!=this.newPasswordForm.newPasswordCheckPassword?(this.newPasswordForm.newPasswordCheckPasswordError=!0,this.newPasswordForm.newPasswordCheckPasswordErrorText="密碼不相符"):(this.newPasswordForm.newPasswordCheckPasswordError=!1,this.newPasswordForm.newPasswordCheckPasswordErrorText="")}}},t=w,n=o("2877"),d=Object(n["a"])(t,a,e,!1,null,null,null);r["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21f81f.b4ed87cf.js.map