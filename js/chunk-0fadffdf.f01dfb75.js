(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fadffdf"],{"0961":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h2",[t._v("搜尋結果")]),"Loading"===t.highlightSearch?a("div",{staticClass:"d-flex justify-content-center my-2"},[t._m(0)]):"Find"===t.highlightSearch?a("div",{staticClass:"my-2"},t._l(t.searchVideos,(function(t){return a("highlight-shelf",{key:t.index,attrs:{vod_id:t.vod_id,highlight_id:t.highlight_id,channel_id:t.channel_id,streamerName:t.streamerName,game:t.game,video_link:t.youtube_url,start_at:t.start_at,duration:t.duration,avg_score:t.avg_score,memo:t.memo,author:t.author,status:t.status,analyzeType:t.analyzeType}})})),1):a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._m(1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner-border text-secondary",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-center my-2 py-2"},[a("span",[t._v("很抱歉！找不到您要搜尋的精華影片！")])])}],r=a("697b"),n={name:"results",data:function(){return{query:this.$route.query,highlightSearch:"Loading",searchVideos:null}},components:{HighlightShelf:r["a"]},mounted:function(){this.getContent()},methods:{getContent:function(){var t=this.query,e=this;e.highlightSearch="Loading",e.searchVideos=null,this.axios.get("https://api.clipfetcher.com/api/vod/highlight",{params:{vod_id:t.vod_id,highlight_id:t.highlight_id,game:t.game,channel_id:t.channel_id,streamerName:t.streamerName,author:t.author}}).then((function(t){e.searchVideos=t.data.reverse(),""==e.searchVideos?e.highlightSearch="Error":e.highlightSearch="Find"})).catch((function(t){console.log(t),e.highlightSearch="Error"}))}},watch:{$route:function(){this.query=this.$route.query,this.getContent()}}},h=n,c=a("2877"),l=Object(c["a"])(h,i,s,!1,null,null,null);e["default"]=l.exports},"697b":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-3 px-1 py-2"},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-md-4"},["FINISHED"===t.status?a("div",{staticStyle:{width:"100%",height:"12em"}},[a("img",{staticClass:"card-img",staticStyle:{width:"100%",height:"100%","object-fit":"cover"},attrs:{src:t.embed_thumbnail,alt:"video_thumbnail"},on:{click:t.highlightPage}})]):a("div",{staticClass:"card-img"},[a("div",{staticClass:"alert alert-info p-4",class:[t.isFailed?"alert-danger":"alert-info"],attrs:{role:"alert"}},[a("p",{staticClass:"text-center my-4 py-4"},[a("span",[t._v(t._s(t.highlightStatusText))])])])])]),a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card-body"},["FINISHED"===t.status?a("p",{staticClass:"m-0 text-center text-secondary"},[a("small",[t._v("點擊圖片以檢視完整影片")])]):t._e(),a("h5",{staticClass:"card-title mb-1 text-truncate"},[t._v(t._s(t.memo))]),a("div",{staticClass:"card-text py-0"},[a("p",{staticClass:"m-0"},[a("b-link",{attrs:{to:"/results?channel_id="+t.channel_id},on:{click:function(e){return e.preventDefault(),t.channelSearch(e)}}},[t._v(t._s(t.streamerName))]),t._v("・"),a("b-link",{attrs:{to:"/results?game="+t.game},on:{click:function(e){return e.preventDefault(),t.gameSearch(e)}}},[t._v(" "+t._s(t.game)+" ")])],1),a("p",{staticClass:"m-0"},[t._v(" 建立者： "),a("b-link",{attrs:{to:"/results?author="+t.author},on:{click:function(e){return e.preventDefault(),t.authorSearch(e)}}},[t._v(t._s(t.author))]),t._v(" 使用"+t._s(t.analysis)+" ")],1),a("p",{staticClass:"mx-0 my-2"},[t.showManualEdit?a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"float-right",attrs:{variant:"outline-info",title:"建立自己專屬的手動剪輯"},on:{click:t.manualEditor}},[a("i",{staticClass:"fas fa-user-edit mr-2"}),t._v("手動編輯 ")]):t._e()],1)])])])])])},s=[],r=(a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("ddb0"),a("2b3d"),{name:"highlight-shelf",props:["vod_id","highlight_id","channel_id","streamerName","game","video_link","start_at","duration","avg_score","memo","author","status","analyzeType"],methods:{channelSearch:function(){this.$router.push({name:"HighlightSearch",query:{channel_id:this.channel_id}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},gameSearch:function(){this.$router.push({name:"HighlightSearch",query:{game:this.game}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},authorSearch:function(){this.$router.push({name:"HighlightSearch",query:{author:this.author}}),"HighlightSearch"===this.$router.currentRoute.name&&this.$router.go(0)},highlightPage:function(){var t=this.highlight_id;this.$router.push({name:"Highlight",params:{highlight_id:t}})},manualEditor:function(){this.$emit("manual",this.vod_id,this.start_at,this.duration)}},computed:{embed_thumbnail:function(){var t=this.video_link,e=new URL(t).hostname,a="";return"www.youtube.com"===e?(t=t.split("="),a=t[1],"https://i.ytimg.com/vi/"+a+"/sddefault.jpg"):(t=t.split("?"),t=t[0],t=t.split("/"),a=t[t.length-1],"https://videodelivery.net/"+a+"/thumbnails/thumbnail.jpg")},highlightStatusText:function(){var t;switch(this.status){case"GETINFO":t="獲取資訊中";break;case"RUNALGO":t="影片分析中";break;case"FMVODDL":t="影片下載中";break;case"FMVODCB":t="影片合併中";break;case"YTVODUL":t="YT上傳中";break;case"FINISHED":t="已完成";break;case"NEWANALF":t="建立分析失敗";break;case"GETINFOF":t="獲取資訊失敗";break;case"RUNALGOF":t="影片分析失敗";break;case"FMVODDLF":t="影片下載失敗";break;case"FMVODCBF":t="影片合併失敗";break;case"YTVODULF":t="YT上傳失敗";break;default:t="獲取資訊中"}return t},isFailed:function(){var t=!1;switch(this.status){case"GETINFO":case"RUNALGO":case"FMVODDL":case"FMVODCB":case"YTVODUL":case"FINISHED":t=!1;break;case"NEWANALF":case"GETINFOF":case"RUNALGOF":case"FMVODDLF":case"FMVODCBF":case"YTVODULF":t=!0;break;default:t=!1}return t},analysis:function(){var t;switch(this.analyzeType){case"freq":t="自動頻率分析";break;case"manual":t="手動剪輯";break;case"machine":t="機器學習";break;default:t=""}return t},showManualEdit:function(){return"Demo"===this.$router.currentRoute.name}}}),n=r,h=a("2877"),c=Object(h["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-0fadffdf.f01dfb75.js.map